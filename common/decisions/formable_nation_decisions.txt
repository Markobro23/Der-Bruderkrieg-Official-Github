

form_ottoman_empire_category = {

	form_ottoman_empire = {
 
		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			controls_state = 679
			controls_state = 293
			controls_state = 454
			controls_state = 455
			controls_state = 656
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				controls_state = 341
				controls_state = 340
				controls_state = 339
				controls_state = 342
				controls_state = 343
				controls_state = 347
				controls_state = 49
				controls_state = 346
				controls_state = 345
				controls_state = 356
				controls_state = 348
				controls_state = 344
				controls_state = 355
				controls_state = 349
				controls_state = 350
				controls_state = 354
				controls_state = 353
				controls_state = 352
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				controls_state = 676
				controls_state = 675
				controls_state = 291
			}
			# France
			custom_trigger_tooltip = {
				tooltip = form_persia_france_required_states_tt
				# Syria
				controls_state = 677
				controls_state = 680
				controls_state = 553
				controls_state = 554
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = form_ottoman_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = OTT_UNIFIED
			679 = { add_core_of = ROOT }
			293 = { add_core_of = ROOT }
			665 = { add_core_of = ROOT }
			458 = { add_core_of = ROOT }
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			hidden_effect = {
				676 = { add_core_of = ROOT }
				675 = { add_core_of = ROOT }
				291 = { add_core_of = ROOT }
			}
			# France
			custom_effect_tooltip = form_persia_france_coring_states_tt
			hidden_effect = {
				677 = { add_core_of = ROOT }
				680 = { add_core_of = ROOT }
				553 = { add_core_of = ROOT }
				554 = { add_core_of = ROOT }
			}
			# Italian North Africa and Dodecanese
			custom_effect_tooltip = form_ottoman_italy_coring_states_tt
			hidden_effect = {
				448 = { add_core_of = ROOT }
				661 = { add_core_of = ROOT }
				449 = { add_core_of = ROOT }
				662 = { add_core_of = ROOT }
				450 = { add_core_of = ROOT }
				451 = { add_core_of = ROOT }
				663 = { add_core_of = ROOT }
				164 = { add_core_of = ROOT }
			}
			# Britain
			custom_effect_tooltip = form_persia_britain_coring_states_tt
			hidden_effect = {
				452 = { add_core_of = ROOT }
				447 = { add_core_of = ROOT }
				446 = { add_core_of = ROOT }
				456 = { add_core_of = ROOT }
				457 = { add_core_of = ROOT }
				453 = { add_core_of = ROOT }
				454 = { add_core_of = ROOT }
				455 = { add_core_of = ROOT }
				183 = { add_core_of = ROOT }
				656 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.61 hours = 6 }
				set_global_flag = form_ottoman_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}



form_roman_empire_category = {

	form_roman_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = ITA
		}

		available = {
			is_subject = no
			# Some Albanian states
			controls_state = 44
			# Yugoslavia
			custom_trigger_tooltip = {
				tooltip = form_country_yugoslavia_required_states_tt
				controls_state = 102
				controls_state = 103
				controls_state = 109
				controls_state = 104
				controls_state = 45
				controls_state = 107
				controls_state = 105
				controls_state = 108
				controls_state = 106
				controls_state = 764
			}
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				controls_state = 185
				controls_state = 731
				controls_state = 47
				controls_state = 186
				controls_state = 184
				controls_state = 187
				controls_state = 182
			}
			# Bulgaria
			custom_trigger_tooltip = {
				tooltip = form_country_bulgaria_required_states_tt
				controls_state = 48
				controls_state = 212
				controls_state = 211
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				controls_state = 341
				controls_state = 340
				controls_state = 339
				controls_state = 342
				controls_state = 343
				controls_state = 347
				controls_state = 49
				controls_state = 346
				controls_state = 345
				controls_state = 356
				controls_state = 348
				controls_state = 344
				controls_state = 355
				controls_state = 349
				controls_state = 350
				controls_state = 354
				controls_state = 353
				controls_state = 352
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				controls_state = 676
				controls_state = 675
				controls_state = 291
			}
			# Switzerland
			custom_trigger_tooltip = {
				tooltip = form_country_switzerland_required_states_tt
				controls_state = 3
				controls_state = 151
			}
			# Portugal
			custom_trigger_tooltip = {
				tooltip = form_eu_portugal_required_states_tt
				controls_state = 180
				controls_state = 181
				controls_state = 112
				controls_state = 179
				controls_state = 795
			}
			# Belgium
			custom_trigger_tooltip = {
				tooltip = form_eu_belgium_required_states_tt
				controls_state = 6
				controls_state = 34
			}
			# Italy
			custom_trigger_tooltip = {
				tooltip = form_spqr_italy_required_states_tt
				controls_state = 158
				controls_state = 159
				controls_state = 39
				controls_state = 160
				controls_state = 161
				controls_state = 162
				controls_state = 157
				controls_state = 2
				controls_state = 117
				controls_state = 156
				controls_state = 115
				controls_state = 114
				controls_state = 736
				controls_state = 163
				controls_state = 164
				# North Africa / Dodecanese
				controls_state = 164
				controls_state = 448
				controls_state = 661
				controls_state = 449
				controls_state = 662
				controls_state = 450
				controls_state = 451
				controls_state = 663
			}
			# Spain
			# France
			custom_trigger_tooltip = {
				tooltip = form_spqr_france_required_states_tt
				controls_state = 735
				# North Africa
				controls_state = 458
				controls_state = 665
				controls_state = 460
				controls_state = 513
				controls_state = 459
				controls_state = 461
				# Syria
				controls_state = 677
				controls_state = 680
				controls_state = 553
				controls_state = 554
			}
			# Britain

		}

		visible = {
			original_tag = ITA
			NOT = { has_global_flag = form_roman_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = SPQR_UNIFIED
			# Some Dutch states
			7 = { add_core_of = ROOT }
			35 = { add_core_of = ROOT }
			# Some Luxemburgian states
			8 = { add_core_of = ROOT }
			# Some Austrian states
			153 = { add_core_of = ROOT }
			# Some Hungarian states
			154 = { add_core_of = ROOT }
			# Some Romanian states
			82 = { add_core_of = ROOT }
			83 = { add_core_of = ROOT }
			76 = { add_core_of = ROOT }
			84 = { add_core_of = ROOT }
			81 = { add_core_of = ROOT }
			46 = { add_core_of = ROOT }
			77 = { add_core_of = ROOT }
			# Some Albanian states
			44 = { add_core_of = ROOT }
			# Yugoslavia
			custom_effect_tooltip = form_country_yugoslavia_coring_states_tt
			hidden_effect = {
				102 = { add_core_of = ROOT }
				103 = { add_core_of = ROOT }
				109 = { add_core_of = ROOT }
				104 = { add_core_of = ROOT }
				45 = { add_core_of = ROOT }
				107 = { add_core_of = ROOT }
				105 = { add_core_of = ROOT }
				108 = { add_core_of = ROOT }
				106 = { add_core_of = ROOT }
				764 = { add_core_of = ROOT }
			}
			# Greece
			custom_effect_tooltip = form_country_greece_coring_states_tt
			hidden_effect = {
				185 = { add_core_of = ROOT }
				731 = { add_core_of = ROOT }
				47 = { add_core_of = ROOT }
				186 = { add_core_of = ROOT }
				184 = { add_core_of = ROOT }
				187 = { add_core_of = ROOT }
				182 = { add_core_of = ROOT }
				164 = { add_core_of = ROOT }
			}
			# Bulgaria
			custom_effect_tooltip = form_country_bulgaria_coring_states_tt
			hidden_effect = {
				48 = { add_core_of = ROOT }
				212 = { add_core_of = ROOT }
				211 = { add_core_of = ROOT }
			}
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				341 = { add_core_of = ROOT }
				340 = { add_core_of = ROOT }
				339 = { add_core_of = ROOT }
				342 = { add_core_of = ROOT }
				343 = { add_core_of = ROOT }
				347 = { add_core_of = ROOT }
				49 = { add_core_of = ROOT }
				346 = { add_core_of = ROOT }
				345 = { add_core_of = ROOT }
				356 = { add_core_of = ROOT }
				348 = { add_core_of = ROOT }
				344 = { add_core_of = ROOT }
				355 = { add_core_of = ROOT }
				349 = { add_core_of = ROOT }
				350 = { add_core_of = ROOT }
				354 = { add_core_of = ROOT }
				353 = { add_core_of = ROOT }
				352 = { add_core_of = ROOT }
			}
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			hidden_effect = {
				676 = { add_core_of = ROOT }
				675 = { add_core_of = ROOT }
				291 = { add_core_of = ROOT }
			}
			# Switzerland
			custom_effect_tooltip = form_country_switzerland_coring_states_tt
			hidden_effect = {
				3 = { add_core_of = ROOT }
				151 = { add_core_of = ROOT }
			}
			# Portugal
			custom_effect_tooltip = form_eu_portugal_coring_states_tt
			hidden_effect = {
				180 = { add_core_of = ROOT }
				181 = { add_core_of = ROOT }
				112 = { add_core_of = ROOT }
				179 = { add_core_of = ROOT }
				795 = { add_core_of = ROOT }
			}
			# Belgium
			custom_effect_tooltip = form_eu_belgium_coring_states_tt
			hidden_effect = {
				6 = { add_core_of = ROOT }
				34 = { add_core_of = ROOT }
			}
			# Italian North Africa
			custom_effect_tooltip = form_spqr_italy_coring_states_tt
			hidden_effect = {
				448 = { add_core_of = ROOT }
				661 = { add_core_of = ROOT }
				449 = { add_core_of = ROOT }
				662 = { add_core_of = ROOT }
				450 = { add_core_of = ROOT }
				451 = { add_core_of = ROOT }
				663 = { add_core_of = ROOT }
			}
			# Spain
			custom_effect_tooltip = form_spqr_spain_coring_states_tt
			hidden_effect = {
				165 = { add_core_of = ROOT }
				166 = { add_core_of = ROOT }
				167 = { add_core_of = ROOT }
				177 = { add_core_of = ROOT }
				171 = { add_core_of = ROOT }
				174 = { add_core_of = ROOT }
				172 = { add_core_of = ROOT }
				176 = { add_core_of = ROOT }
				170 = { add_core_of = ROOT }
				41 = { add_core_of = ROOT }
				175 = { add_core_of = ROOT }
				169 = { add_core_of = ROOT }
				173 = { add_core_of = ROOT }
				168 = { add_core_of = ROOT }
				290 = { add_core_of = ROOT }
				788 = { add_core_of = ROOT }
				789 = { add_core_of = ROOT }
				790 = { add_core_of = ROOT }
				791 = { add_core_of = ROOT }
				792 = { add_core_of = ROOT }
				793 = { add_core_of = ROOT }
				794 = { add_core_of = ROOT }
			}
			# France
			custom_effect_tooltip = form_spqr_france_coring_states_tt
			hidden_effect = {
				29 = { add_core_of = ROOT }
				18 = { add_core_of = ROOT }
				17 = { add_core_of = ROOT }
				28 = { add_core_of = ROOT }
				15 = { add_core_of = ROOT }
				16 = { add_core_of = ROOT }
				27 = { add_core_of = ROOT }
				14 = { add_core_of = ROOT }
				30 = { add_core_of = ROOT }
				24 = { add_core_of = ROOT }
				23 = { add_core_of = ROOT }
				33 = { add_core_of = ROOT }
				26 = { add_core_of = ROOT }
				20 = { add_core_of = ROOT }
				32 = { add_core_of = ROOT }
				735 = { add_core_of = ROOT }
				25 = { add_core_of = ROOT }
				22 = { add_core_of = ROOT }
				21 = { add_core_of = ROOT }
				19 = { add_core_of = ROOT }
				20 = { add_core_of = ROOT }
				1 = { add_core_of = ROOT }
				785 = { add_core_of = ROOT }
				31 = { add_core_of = ROOT }
				458 = { add_core_of = ROOT }
				665 = { add_core_of = ROOT }
				460 = { add_core_of = ROOT }
				513 = { add_core_of = ROOT }
				459 = { add_core_of = ROOT }
				461 = { add_core_of = ROOT }
				677 = { add_core_of = ROOT }
				680 = { add_core_of = ROOT }
				553 = { add_core_of = ROOT }
				554 = { add_core_of = ROOT }
			}
			# Britain
			custom_effect_tooltip = form_spqr_britain_coring_states_tt
			hidden_effect = {
				127 = { add_core_of = ROOT }
				123 = { add_core_of = ROOT }
				338 = { add_core_of = ROOT }
				126 = { add_core_of = ROOT }
				125 = { add_core_of = ROOT }
				129 = { add_core_of = ROOT }
				128 = { add_core_of = ROOT }
				122 = { add_core_of = ROOT }
				132 = { add_core_of = ROOT }
				130 = { add_core_of = ROOT }
				131 = { add_core_of = ROOT }
				452 = { add_core_of = ROOT }
				447 = { add_core_of = ROOT }
				446 = { add_core_of = ROOT }
				456 = { add_core_of = ROOT }
				457 = { add_core_of = ROOT }
				453 = { add_core_of = ROOT }
				454 = { add_core_of = ROOT }
				455 = { add_core_of = ROOT }
				183 = { add_core_of = ROOT }
				656 = { add_core_of = ROOT }
				118 = { add_core_of = ROOT }
				116 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.64 hours = 6 }
				set_global_flag = form_roman_empire_flag
				if = {
					limit = {
						has_country_leader = { ruling_only = yes name = "Benito Mussolini" }
					}
					kill_country_leader = yes
					create_country_leader = {
						name = "Augustus Mussolini"
						desc = "POLITICS_BENITO_MUSSOLINI_DESC"
						picture = "GFX_portrait_italy_emperor_mussolini"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {

						}
					}
				}
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}




form_balkan_category = {

	form_balkan = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = ROM
			}
		}

		available = {
			OR = {
				is_subject = no
				has_autonomy_state = autonomy_dominion #New Zealand should be able to do it
			}
			# Polynesia
			controls_state = 82
			controls_state = 78
			controls_state = 80
			controls_state = 83
			controls_state = 77
			controls_state = 79
			controls_state = 46
			controls_state = 76
			controls_state = 81
			controls_state = 766
			controls_state = 84
			controls_state = 211
			controls_state = 212
			controls_state = 48
			controls_state = 104
			controls_state = 109
			controls_state = 103
			controls_state = 106
			controls_state = 105
			controls_state = 108
			controls_state = 107
			controls_state = 102
			controls_state = 45
			controls_state = 764
			controls_state = 731
			controls_state = 44
			controls_state = 185
			controls_state = 186
			controls_state = 47
			controls_state = 184
		}

		visible = {
			AND = {
				original_tag = ROM
			}
			NOT = { has_global_flag = form_balkan_flag }
		}

		complete_effect = {
			set_cosmetic_tag = united_balkan
			# Polynesia
			custom_effect_tooltip = form_country_balkan_coring_states_tt
			hidden_effect = {
				82 = { add_core_of = ROOT }
				78 = { add_core_of = ROOT } #Taiwan
				80 = { add_core_of = ROOT }
				83 = { add_core_of = ROOT }
				77 = { add_core_of = ROOT }
				79 = { add_core_of = ROOT }
				46 = { add_core_of = ROOT }
				76 = { add_core_of = ROOT }
				81 = { add_core_of = ROOT }
				766 = { add_core_of = ROOT }
				84 = { add_core_of = ROOT }
				211 = { add_core_of = ROOT }
				212 = { add_core_of = ROOT }
				48 = { add_core_of = ROOT }
				104 = { add_core_of = ROOT }
				109 = { add_core_of = ROOT } #Iwo Jima
				103 = { add_core_of = ROOT }
				106 = { add_core_of = ROOT }
				105 = { add_core_of = ROOT }
				108 = { add_core_of = ROOT }
				107 = { add_core_of = ROOT }
				102 = { add_core_of = ROOT }
				45 = { add_core_of = ROOT }
				764 = { add_core_of = ROOT }
				44 = { add_core_of = ROOT }
				731 = { add_core_of = ROOT }
				185 = { add_core_of = ROOT }
				186 = { add_core_of = ROOT }
				47 = { add_core_of = ROOT }
				184 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = lar_news.291 hours = 6 }
				set_global_flag = form_balkan_flag
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}


form_germany_category = {

	form_ngc = {

		icon = generic_form_nation

		allowed = {
			OR = {
				tag = GER
				tag = HAN
				tag = SAX
				tag = OLD
			}
		}

		available = {
			has_completed_focus = GER_bismarks_plan
			controls_state = 188
			controls_state = 763
			controls_state = 5
			controls_state = 85
			controls_state = 86
			controls_state = 63
			controls_state = 64
			controls_state = 65
			controls_state = 62
			controls_state = 949
			controls_state = 950
			controls_state = 68
			controls_state = 60
			controls_state = 65
			controls_state = 59
			controls_state = 56
			controls_state = 817
			controls_state = 955
		}

		visible = {
			OR = {
				tag = GER
				tag = HAN
				tag = SAX
				tag = OLD
			}
			NOT = { has_global_flag = form_ngc_flag }
		}

		complete_effect = {
			set_cosmetic_tag = ngc_united
			# Germany
			#custom_effect_tooltip = form_country_balkan_coring_states_tt
			add_state_core = 188
			add_state_core = 763
			add_state_core = 5
			add_state_core = 85
			add_state_core = 86
			add_state_core = 63
			add_state_core = 64
			add_state_core = 65
			add_state_core = 62
			add_state_core = 949 
			add_state_core = 950
			add_state_core = 68
			add_state_core = 60
			add_state_core = 59
			add_state_core = 56
			add_state_core = 817
			add_state_core = 955
			hidden_effect = {
				news_event = { id = prussian_expansion.3 hours = 6 }
				set_global_flag = form_ngc_flag

				add_threat = 10
			}
		}

		ai_will_do = {
			factor = 200
		}
	}

	form_germany = {

		icon = generic_form_nation

		allowed = {
			OR = {
				tag = GER
				tag = GPU
				tag = FGD
				tag = HAN
				tag = SAX
			}
		}

		fire_only_once = yes

		available = {
			if = {
				limit = {
					tag = GPU
					NOT = {
						has_government = ultranationalism
						has_government = fascism
					}
				}
				OR = {
					has_completed_focus = GPU_the_frankfurt_parliament
				}
			}
			else = {
				OR = {
					is_subject = no
				}
				controls_state = 51
				controls_state = 42
				controls_state = 56
				controls_state = 57
				controls_state = 55
				controls_state = 50
				controls_state = 59
				controls_state = 58
				controls_state = 60
				controls_state = 54
				controls_state = 52
				controls_state = 53
				controls_state = 61
				controls_state = 64
				controls_state = 65
				controls_state = 62
				controls_state = 68
				controls_state = 66
				controls_state = 67
				controls_state = 63
				controls_state = 5
				controls_state = 763
				controls_state = 86
				controls_state = 817

				####new states
				controls_state = 950
				controls_state = 949
				controls_state = 954
				controls_state = 959
				controls_state = 956
				controls_state = 955
				controls_state = 957
				controls_state = 960
				controls_state = 798
				OR = {
					tag = GER
					tag = FGD
					tag = HAN
					tag = SAX
				} 
			}
		}

		visible = {
			OR = {
				tag = GER
				tag = GPU
				tag = FGD
				tag = HAN
				tag = SAX
			}
			NOT = { has_global_flag = form_germany_flag }
		}


		complete_effect = {
			if = {
				limit = {
					tag = GPU
				}
				set_cosmetic_tag = united_germany_diet
			}
			else = {
				set_cosmetic_tag = united_germany
			}
			news_event = GER_unification_of_Germany.1 
			# Germany
			#custom_effect_tooltip = form_country_balkan_coring_states_tt
			hidden_effect = {
			51 = { add_core_of = ROOT }
			42 = { add_core_of = ROOT }
			56 = { add_core_of = ROOT } 
			57 = { add_core_of = ROOT }
			55 = { add_core_of = ROOT }
			50 = { add_core_of = ROOT }
			59 = { add_core_of = ROOT }
			58 = { add_core_of = ROOT }
			60 = { add_core_of = ROOT }
			54 = { add_core_of = ROOT }
			52 = { add_core_of = ROOT }
			53 = { add_core_of = ROOT }
			61 = { add_core_of = ROOT }
			64 = { add_core_of = ROOT }
			65 = { add_core_of = ROOT }
			62 = { add_core_of = ROOT }
			68 = { add_core_of = ROOT }
			66 = { add_core_of = ROOT }
			67 = { add_core_of = ROOT }
			63 = { add_core_of = ROOT }
			5 = { add_core_of = ROOT }
			763 = { add_core_of = ROOT }
			950 = { add_core_of = ROOT }
			949 = { add_core_of = ROOT }
			954 = { add_core_of = ROOT }
			959 = { add_core_of = ROOT }
			956 = { add_core_of = ROOT }
			955 = { add_core_of = ROOT }
			957 = { add_core_of = ROOT }
			960 = { add_core_of = ROOT }
			817 = { add_core_of = ROOT }	
			798 = { add_core_of = ROOT }
			}
			
			hidden_effect = {
				news_event = { id = formablenations.1 hours = 6 }
				set_global_flag = form_germany_flag

				if = {
					limit = {
						tag = GER
					}
					set_country_flag = deutschland_uber_allies_achievement
					
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}

form_ngc_category = {

	
}


form_greaterfrance_category = {

	form_greaterfrance = {

		icon = generic_form_nation

		allowed = {
			tag = FRA
		}

		available = {
			OR = {
				is_subject = no
				has_autonomy_state = autonomy_dominion #New Zealand should be able to do it
			}
			controls_state = 29
				controls_state = 18
				controls_state = 17
				controls_state = 28
				controls_state = 15
				controls_state = 16
				controls_state = 27
				controls_state = 14
				controls_state = 30
				controls_state = 24
				controls_state = 23
				controls_state = 33
				controls_state = 26
				controls_state = 20
				controls_state = 32
				controls_state = 735
				controls_state = 25
				controls_state = 22
				controls_state = 21
				controls_state = 19
				controls_state = 20
				controls_state = 1
				controls_state = 785
				controls_state = 31
				controls_state = 802
				controls_state = 803
				controls_state = 956
				controls_state = 8
				controls_state = 798
				controls_state = 800
				controls_state = 34
				controls_state = 6
				controls_state = 165
				controls_state = 35
				controls_state = 954
				controls_state = 42
				controls_state = 51


			####new states
			
		}

		visible = {
			tag = FRA
			NOT = { has_global_flag = form_greaterfrance_flag }
		}

		complete_effect = {
			set_cosmetic_tag = napoleonic_france
			# Germany
			#custom_effect_tooltip = form_country_balkan_coring_states_tt
			hidden_effect = {
			


			}
			hidden_effect = {
				news_event = { id = formablenations.3 hours = 6 }
				set_global_flag = form_greaterfrance_flag

				
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}

form_grobdeuctchland_category = {
	form_gdb = {
		allowed = {
			tag = AUS
		}

		available = {
			#form_grobdeuctland_trigger = yes
			controls_state = 51
			controls_state = 42
			controls_state = 56
			controls_state = 57
			controls_state = 55
			controls_state = 50
			controls_state = 59
			controls_state = 58
			controls_state = 60
			controls_state = 54
			controls_state = 52
			controls_state = 53
			controls_state = 61
			controls_state = 64
			controls_state = 65
			controls_state = 62
			controls_state = 68
			controls_state = 66
			controls_state = 67
			controls_state = 63
			controls_state = 5
			controls_state = 763
			controls_state = 86
			controls_state = 950
			controls_state = 949
			controls_state = 954
			controls_state = 959
			
			controls_state = 955
			controls_state = 957
			controls_state = 960

			controls_state = 4
			controls_state = 153
			controls_state = 152
			controls_state = 9
			controls_state = 79
			controls_state = 74
			controls_state = 75

			
			
		}
		visible = {
			tag = AUS
			NOT = {has_global_flag = gdb_formed}
		}

		complete_effect = {
			set_global_flag = gdb_formed
			set_cosmetic_tag = grobdeutcches_reich
		}
	}
}

form_serbia_category = {

	form_serbia_category = {
 
		icon = generic_form_nation

		

		available = {
			controls_state = 818
			controls_state = 814
			controls_state = 108
			controls_state = 807
			controls_state = 813
			controls_state = 105
			controls_state = 808
			controls_state = 821
			controls_state = 107
			has_global_flag = serbian_civil_war_has_begun
		}

		visible = {
			OR = {
				tag = SER
				tag = YUG
				tag = OBS
			}
			NOT = { has_global_flag = form_serbia_flag }
		}
		ai_will_do = { factor = 100 }

		complete_effect = {
			every_state = {
				limit = {
					is_core_of = YUG
				}
				add_core_of = ROOT
			}
			set_global_flag = form_serbia_flag
			drop_cosmetic_tag = yes
			add_state_core = 818
			add_state_core = 814
			add_state_core = 108
			add_state_core = 807
			add_state_core = 813
			add_state_core = 105
			add_state_core = 808
			add_state_core = 821
			add_state_core = 107
			GER = {
				remove_ideas = Serbian_Civil_War
				remove_ideas = Serbian_Civil_War_2
			}
			AUS = {
				remove_ideas = Serbian_Civil_War
				remove_ideas = Serbian_Civil_War_2
			}
			SOV = {
				remove_ideas = Serbian_Civil_War
				remove_ideas = Serbian_Civil_War_2
			}
		}

	
	}

}	

form_brazil_category = {

	form_brazil = {
	
		ai_will_do = { factor = 100 }
 
		icon = generic_form_nation
		fire_only_once = yes
		
		available = {
			controls_state = 495 
			controls_state = 1016
			controls_state = 986 
			controls_state = 983 
			controls_state = 1020 
			controls_state = 280 
			controls_state = 505 
			controls_state = 1012  
			controls_state = 1017  
			controls_state = 497  
			controls_state = 1003  
			controls_state = 1005  
			controls_state = 498  
			controls_state = 1007  
			controls_state = 1006  
			controls_state = 1008  
			controls_state = 1009  
			controls_state = 499 
			controls_state = 989  
			controls_state = 496 
			controls_state = 1010  
			controls_state = 505 
			controls_state = 501  
			controls_state = 984  
			controls_state = 1011  
			controls_state = 1037  
			controls_state = 503   
		}

		visible = {
			NOT = {
				has_global_flag = brazil_reunited
			}
			OR = {
				tag = BRE
				tag = GEF
				tag = BRS
				tag = BMJ
				tag = UBR
				tag = SRB
			}
		}

		complete_effect = {
		set_global_flag = brazil_reunited
		set_cosmetic_tag = BRZ_unified
		news_event = { id = DBK_formablenations.8 days = 1 }
		remove_ideas = UBR_civilist_republic

		}

	
	}	

	form_brazil_annex_puppets = {
	
		ai_will_do = { factor = 100 }
 
		icon = generic_form_nation
		fire_only_once = yes
		
		available = {
			has_war = no   
		}

		visible = {
			OR = {
				tag = UBR
			}
		}

		complete_effect = {

		UBR = {
					annex_country = {
						target = FLF
						transfer_troops = no
					}
				}
				UBR = {
					annex_country = {
						target = GEF
						transfer_troops = no
					}
				}

		}

	
	}	
	
}

form_india_category = {

	form_india_decision = {

		icon = generic_form_nation
		ai_will_do = { factor = 100 }

		complete_effect = {
			every_state = {
				limit = { OR = { is_core_of = KAS is_core_of = KHA is_core_of = PAK is_core_of = AIG is_core_of = INC is_core_of = DRA is_core_of = RAJ } }
				add_core_of = ROOT
			}
			ROOT = {
				add_state_core = 442
				add_state_core = 445
				add_state_core = 321
				add_state_core = 320
			}
			if = { limit = { tag = RAJ } set_cosmetic_tag = british_raj } else = { set_cosmetic_tag = united_india }
			if = {
				limit = {
					tag = RAJ
				}
				ENG = {
					remove_ideas = ENG_broken_crown_jewel
				}
			}
			if = {
				limit = {
					GAK = {
						exists = yes
					}
					tag = AIG
				}
				AIG = {
					annex_country = {
						target = GAK
						transfer_troops = yes
					}
				}
			}
			white_peace = ENG
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = controls_all_indian_states
				all_of_scopes = {
					array = KAS.core_states
					OR = {
						is_owned_by = ROOT
						is_controlled_by = ROOT
					}
				}
				all_of_scopes = {
					array = KHA.core_states
					OR = {
						is_owned_by = ROOT
						is_controlled_by = ROOT
					}
				}
				all_of_scopes = {
					array = PAK.core_states
					OR = {
						is_owned_by = ROOT
						is_controlled_by = ROOT
					}
				}
				all_of_scopes = {
					array = AIG.core_states
					if = {
						limit = {
							NOT = {
								owner = {
									tag = FRA
								}
								owner = {
									tag = POR
								}
							}
						}
						OR = {
							is_owned_by = ROOT
							is_controlled_by = ROOT
						}
					}
				}
				all_of_scopes = {
					array = INC.core_states
					OR = {
						is_owned_by = ROOT
						is_controlled_by = ROOT
					}
				}
				all_of_scopes = {
					array = DRA.core_states
					if = {
						limit = {
							NOT = {
								owner = {
									tag = FRA
								}
								owner = {
									tag = POR
								}
							}
						}
						OR = {
							is_owned_by = ROOT
							is_controlled_by = ROOT
						}
					}
				}
				all_of_scopes = {
					array = RAJ.core_states
					if = {
						limit = {
							NOT = {
								owner = {
									tag = FRA
								}
								owner = {
									tag = POR
								}
							}
						}
						OR = {
							is_owned_by = ROOT
							is_controlled_by = ROOT
						}
					}
				} 
			}
		}

	}

}



form_china_category = {
	
	form_china = {
	    fire_only_once = yes

		icon = generic_form_nation
		ai_will_do = { factor = 100 }

		allowed = {
			OR = {
				original_tag = XSM
				original_tag = MNG
				original_tag = QNG
				original_tag = CRE
			}
		}

		available = {
			is_subject = no
			# All clans
			custom_trigger_tooltip = {
				tooltip = form_country_china_required_states_tt
				controls_state = 614
				controls_state = 607
				controls_state = 613
				controls_state = 622
				controls_state = 898
				controls_state = 605
				controls_state = 601
				controls_state = 604
				controls_state = 756
				controls_state = 594
				controls_state = 593
				controls_state = 325
			}
				
		}

		visible = {
			OR = {
				original_tag = XSM
				original_tag = CRE
				original_tag = MNG
				original_tag = QNG
			}
			NOT = { has_global_flag = form_china_flag }
		}

		complete_effect = {
			set_cosmetic_tag = CHU
				custom_effect_tooltip = form_country_china_gain_cores_tt
				custom_effect_tooltip = form_country_china_gain_cores_tibet_tt
				custom_effect_tooltip = form_country_china_gain_cores_manchuria_tt
				custom_effect_tooltip = form_country_china_gain_cores_turkistan_tt

			hidden_effect = {
				set_global_flag = form_china_flag
				ROOT = {
					add_state_core  = 614
					add_state_core  = 917
					add_state_core  = 607
					add_state_core  = 613
					add_state_core  = 622
					add_state_core  = 898
					add_state_core  = 605
					add_state_core  = 601
					add_state_core  = 604
					add_state_core  = 756
					add_state_core  = 594
					add_state_core  = 593
					add_state_core  = 325
				}
			}
		}


		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_greece_category = {
	
	form_greece = {

		icon = generic_form_nation

		fire_only_once = yes

		visible = {
			NOT = { has_global_flag = greece_reunited }
		}

		ai_will_do = {
			factor = 1090
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = controls_non_occupied_greece
				#athens
				owns_state = 828
				owns_state = 186
				owns_state = 47
				owns_state = 832
				owns_state = 830
				#Thessaly
				owns_state = 826
				owns_state = 825
				owns_state = 731
				#Ionia
				owns_state = 831
				owns_state = 185
			}
		}

		complete_effect = {
			news_event = { id = DBK_formablenations.4 }
			every_country = {
				limit = { NOT = { tag = ROOT } NOT = { tag = TUR } OR = { controls_state = 187 controls_state = 164 controls_state = 182 controls_state = 827 controls_state = 1124 controls_state = 1121 } NOT = { OR = { has_country_flag = demanded_greek_lands_return has_war_with = ROOT } } }
				country_event = { id = DBK_formablenations.5 hours = 3 }
				set_country_flag = demanded_greek_lands_return
			}
			set_cosmetic_tag = united_greece
			add_state_core = 987
			add_state_core = 1052
			add_state_core = 829
			add_state_core = 184
			add_state_core = 833
			add_state_core = 948
			add_state_core = 341
			add_state_core = 988
			add_state_core = 340
			add_state_core = 834
			add_state_core = 339
			add_state_core = 835
			add_state_core = 836
			if = {
				limit = { NOT = { tag = ATH } }
				every_state = {
					limit = { is_core_of = ATH }
					remove_core_of = ATH
				}
			}
			if = {
				limit = { NOT = { tag = EPI } }
				every_state = {
					limit = { is_core_of = EPI }
					remove_core_of = EPI
				}
			}
			if = {
				limit = { NOT = { tag = THS } }
				every_state = {
					limit = { is_core_of = THS }
					remove_core_of = THS
				}
			}
		}

	}

}

form_arabia_category = {
	
	form_arabia_decision = {

		available = {
			owns_state = 675
			owns_state = 874
			owns_state = 876
			owns_state = 873
			owns_state = 875
			owns_state = 870
			owns_state = 878
			owns_state = 877
			owns_state = 871
			owns_state = 872
			owns_state = 292
			owns_state = 679
			owns_state = 678
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			add_state_core = 675
			add_state_core = 874
			add_state_core = 876
			add_state_core = 873
			add_state_core = 875
			add_state_core = 870
			add_state_core = 878
			add_state_core = 877
			add_state_core = 871
			add_state_core = 872
			add_state_core = 292
			add_state_core = 679
			add_state_core = 678
			set_cosmetic_tag = united_arabia
			news_event = { id = DBK_formablenations.9 hours = 6 }
		}

	}

}

reunite_russia_category = {
	
	reunite_russia_decision = {

		icon = generic_form_nation

		available = {
			SOV = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			PRM = {
				OR = {
					exists = no
					is_in_faction_with = ROOT
				}
			}
			GRN = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			KAZ = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			TAJ = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			TMS = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			SRG = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			KRK = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			NSK = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			ZMU = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
			YAK = {
				OR = {
					exists = no
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}

		fire_only_once = yes

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						is_core_of = SOV
						is_core_of = PRM
						is_core_of = KAZ
						is_core_of = TMS
						is_core_of = GRN
						is_core_of = TAJ
						is_core_of = NSK
						is_core_of = SRG
						is_core_of = KRK
						is_core_of = YAK
						is_core_of = ZMU
					}
					NOT = { is_core_of = ROOT }
				}
				add_core_of = ROOT
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				ROOT = {
					annex_country = {
						target = PREV
						transfer_troops = yes
					}
				}
			}
			if = {
				limit = { NOT = { tag = SOV } }
				set_cosmetic_tag = SOV
			}
		}

	}
}

reunite_denmark_category = {
	
	reunite_denmark_decision = {

		icon = generic_form_nation

		fire_only_once = yes

		available = {
			owns_state = 99
			owns_state = 37
			owns_state = 100
			owns_state = 337
		}

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			if = {
				limit = {
					tag = DEN
				}
				add_state_core = 100
			}
			if = {
				limit = {
					tag = ICE
				}
				set_cosmetic_tag = DEN
				add_state_core = 99
				add_state_core = 37
			}
		}

	}

}

unite_kalmar_category = {
	
	kalmar_union_decision = {

		icon = generic_form_nation

		fire_only_once = yes

		available = {
			custom_trigger_tooltip = {
				tooltip = controls_swedish_states
				controls_state = 666
				controls_state = 38
				controls_state = 141
				controls_state = 139
				controls_state = 140
				controls_state = 138
			}
			custom_trigger_tooltip = {
				tooltip = controls_norwegian_states
				controls_state = 144
				controls_state = 143
				controls_state = 110
				controls_state = 142
			}
			custom_trigger_tooltip = {
				tooltip = controls_all_danish_lands
				controls_state = 337
				controls_state = 99
				controls_state = 37
			}
		}

		visible = {
			NOT = {
				has_global_flag = kalmar_union_established
			}
		}

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			set_cosmetic_tag = kalmar_union
			set_global_flag = kalmar_union_established
			every_state = {
				limit = {
					OR = {
						state = 666
						state = 38
						state = 141
						state = 139
						state = 140
						state = 138
						state = 144
						state = 143
						state = 110
						state = 142
						state = 100
						state = 337
						state = 99
						state = 37
					}
					NOT = { is_core_of = ROOT }
				}
				add_core_of = ROOT
			}
		}

	}

}

unite_north_sea_category = {
	
	north_sea_empire_decision = {

		icon = generic_form_nation

		fire_only_once = yes

		available = {
			custom_trigger_tooltip = {
				tooltip = controls_british_states
				controls_state = 120
				controls_state = 136
				controls_state = 125
				all_of_scopes = {
					array = ENG.election_states
					value = THIS
					is_owned_by = ROOT
				}
			}
			custom_trigger_tooltip = {
				tooltip = controls_norwegian_states
				controls_state = 144
				controls_state = 143
				controls_state = 110
				controls_state = 142
			}
			custom_trigger_tooltip = {
				tooltip = controls_all_danish_lands
				controls_state = 100
				controls_state = 337
				controls_state = 99
				controls_state = 37
			}
		}

		visible = {
			NOT = {
				has_global_flag = north_sea_union_established
			}
		}

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			set_cosmetic_tag = north_sea_union
			set_global_flag = north_sea_union_established
			every_state = {
				limit = {
					OR = {
						is_in_array = {
							array = ENG.election_states
							value = THIS
						}
						state = 125
						state = 136
						state = 120
						state = 144
						state = 143
						state = 110
						state = 142
						state = 100
						state = 337
						state = 99
						state = 37
					}
					NOT = { is_core_of = ROOT }
				}
				add_core_of = ROOT
			}
		}

	}


}

unite_iberia_category = {
	unite_iberia_decision = {

		icon = generic_form_nation

		fire_only_once = yes

		available = {
			custom_trigger_tooltip = {
				tooltip = controls_spanish_states
				controls_state = 41
				controls_state = 165
				controls_state = 166
				controls_state = 167
				controls_state = 168
				controls_state = 170
				controls_state = 171
				controls_state = 172
				controls_state = 173
				controls_state = 174
				controls_state = 175
				controls_state = 176
				controls_state = 788
				controls_state = 789
				controls_state = 790
				controls_state = 791
				controls_state = 792
				controls_state = 793
				controls_state = 794
			}
			custom_trigger_tooltip = {
				tooltip = controls_portugese_states
				controls_state = 112
				controls_state = 179
				controls_state = 180
				controls_state = 181
				controls_state = 795
			}
		
		}

		visible = {
			NOT = {
				has_global_flag = iberian_union_established
			}
		}

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			set_cosmetic_tag = iberian_union
			set_global_flag = iberian_union_established
			every_controlled_state = {
				limit = {
					NOT = { is_core_of = ROOT }
					is_on_continent = europe
				}
				add_core_of = ROOT
			}
		}

	}
}